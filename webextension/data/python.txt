#!/usr/bin/env python
# coding: utf-8

import sys, json, struct, subprocess

# Read a message from stdin and decode it.
def getMessage():
  rawLength = sys.stdin.buffer.read(4)
  if len(rawLength) == 0:
    sys.exit(0)
  message = sys.stdin.buffer.read(struct.unpack('@I', rawLength)[0])
  if message:
    return json.loads(message.decode('utf-8'))
  else:
    return false

# Editor path
app = "C:\Program Files\Path\To\YourEditor.exe"

# Command line arguments array as appropriate.
# args = []

while True:
  file = getMessage()
  cmd = []
  cmd.append(app)

  # If you have arguments and want arguments before file
  # cmd.extend(args)

  cmd.append(file)

  # If you have arguments and want arguments after file
  # cmd.extend(args)

  subprocess.run(cmd)

sys.exit(0)
